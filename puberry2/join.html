<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="websocket.js"></script>
    <link rel="stylesheet" href="main.css">
    <title>Home</title>
</head>
<body class="home-image">
    <h1 class="big-white-text center" style="margin-bottom: 145px;">Welcome!</h1>

    <!-- Join Lobby Form -->
    <div id="joinLobbyForm" class="center" style="margin-top: 120px;">
        <h2 class="med-white-text">Join Lobby</h2>
        <form id="lobbyJoinForm">
            <div style="margin-bottom: 10px;">
                <label for="playerId" class="small-white-text">Player ID:</label>
                <input type="text" id="playerId" name="playerId" required><br>
            </div>

            <label for="lobbyName" class="small-white-text">Lobby Name:</label>
            <input type="text" id="lobbyName" name="lobbyName" required><br>
            <button type="submit" class="button-23 home-button-padding" style="margin-top: 20px;" >Join</button>
        </form>
    </div>

    <script>

        document.getElementById("joinLobbyForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent form submission

            var playerId = document.getElementById("playerId").value;
            var lobbyName = document.getElementById("lobbyName").value;

            // Send lobby creation request to the server
            var request = {
                action: "joinLobby",
                playerId: playerId,
                lobbyName: lobbyName
            };
            // Send the request to the server using WebSocket
            websocket.send(JSON.stringify(request));

            window.location.href = "lobby.html"
        });
    </script>
</body>
</html>